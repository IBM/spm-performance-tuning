"use strict";(self.webpackChunkcuram_performance_tuning=self.webpackChunkcuram_performance_tuning||[]).push([[183],{8796:function(e,a,n){n.r(a),n.d(a,{_frontmatter:function(){return l},default:function(){return y}});var t=n(45),i=(n(6540),n(5680)),o=n(4330);const r=["components"],l={},s=e=>function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.yg)("div",a)},p=s("AnchorLinks"),g=s("AnchorLink"),m=s("InlineNotification"),d={_frontmatter:l},c=o.A;function y(e){let{components:a}=e,n=(0,t.A)(e,r);return(0,i.yg)(c,Object.assign({},d,n,{components:a,mdxType:"MDXLayout"}),(0,i.yg)(p,{small:!0,mdxType:"AnchorLinks"},(0,i.yg)(g,{mdxType:"AnchorLink"},"Physical database design"),(0,i.yg)(g,{mdxType:"AnchorLink"},"Maintenance"),(0,i.yg)(g,{mdxType:"AnchorLink"},"Registry variables")),(0,i.yg)("p",null,"The following maintenance and database design guidelines apply to tuning Db2® databases."),(0,i.yg)(m,{kind:"warning",mdxType:"InlineNotification"},(0,i.yg)("p",null,"Database tuning provided in this guidance is not comprehensive."),(0,i.yg)("p",null,"However, the following values are a starting point for how to configure a performant database for Cúram.\nIt is our recommendation that project teams verify their own tuning, and where necessary adapt and expand the configuration based on their own requirements prior to going in to production.")),(0,i.yg)("h2",null,"Physical database design"),(0,i.yg)("p",null,"In addition to physical database design done as part of the project, the following tips apply specifically to performance and scalability:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Create two 4 K page buffer pools, one for data and one for indexes, and a 4 K page temporary table space.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Create a 4 K page large table space for data, with no file system caching.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Create a 4 K page large table space for indexes, with no file system caching.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Create a 4 K page large table space for LOBs, with file system caching (to enable buffering of Large Object types (LOBs).")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Move all indexes to the 4 K page indexes table space. A common page size makes database administration easier and improves performance. For example, indexes of tables in the 32 K page table space that use 4 K pages require less I/O.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Move all LOBs to the 4 K page LOBs table space.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Move all tables that do not need 32 K page to the 4 K page data table space. It can improve buffer pool utilization and decrease database I/O.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Enable compression on tables if it is wanted. Compression was tested by Cúram with no issues.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Review the use of dedicated table spaces. Consider moving the largest tables (for example, ",(0,i.yg)("inlineCode",{parentName:"p"},"DYNAMICEVIDENCEDATAATTRIBUTE")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"DEPENDENCY"),") to dedicated table spaces. However, from experience, with good I/O layouts, the only reason for dedicated table spaces is maintenance.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Review the use of partitioning. From experience, with good I/O layouts, the only reason for partitioning is maintenance (similar to dedicated table spaces).")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"After creating the database, see ",(0,i.yg)("strong",{parentName:"p"},"Configuring the IBM® Db2® database")," in the ",(0,i.yg)("strong",{parentName:"p"},"Development Environment Installation Guide"),", consider setting the ",(0,i.yg)("inlineCode",{parentName:"p"},"highmem")," buffer pool size to ",(0,i.yg)("inlineCode",{parentName:"p"},"AUTOMATIC")," e.g.,"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-sql"}," db2 alter bufferpool HIGHMEM size AUTOMATIC\n")),(0,i.yg)("p",{parentName:"li"}," see ",(0,i.yg)("a",{parentName:"p",href:"https://www.ibm.com/support/producthub/db2/docs/content/SSEPGG_11.5.0/com.ibm.db2.luw.sql.ref.doc/doc/r0000885.html"},"ALTER BUFFERPOOL")),(0,i.yg)(m,{kind:"warning",mdxType:"InlineNotification"},(0,i.yg)("p",{parentName:"li"}," ",(0,i.yg)("strong",{parentName:"p"},"Note:")," The above will cause the Ant ",(0,i.yg)("inlineCode",{parentName:"p"},"configtest")," target to fail, see ",(0,i.yg)("strong",{parentName:"p"},"Testing the configuration")," in the ",(0,i.yg)("strong",{parentName:"p"},"Development Environment Installation Guide"),". Therefore, run the ",(0,i.yg)("inlineCode",{parentName:"p"},"build cofigtest")," procedure prior to altering the bufferpool.")))),(0,i.yg)("h2",null,"Maintenance"),(0,i.yg)("p",null,"Regular database maintenance is essential to ensure optimal performance and reliability of your databases.\nRunning the ",(0,i.yg)("inlineCode",{parentName:"p"},"REORG")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"RUNSTATS")," utilities is critically important for optimal performance with Db2 databases.\nAfter the database is populated, do the maintenance on a regularly scheduled basis, such as weekly.\nA regularly scheduled maintenance plan is essential to maintain peak performance of your system."),(0,i.yg)("h2",null,"Registry variables"),(0,i.yg)("p",null,"To improve the buffer pool management and increase performance in Db2, you can set the following Db2 registry variables:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-sql"},"DB2_USE_ALTERNATE_PAGE_CLEANING=ON\n")),(0,i.yg)("p",null,"To enable Db2 to parallelize IO to that logical volume, you can set the following setting:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-sql"},"DB2_PARALLEL_IO=*:n\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"where the number of disks in the RAID array that backs a logical volume is represented by ",(0,i.yg)("inlineCode",{parentName:"li"},"n"),".")))}y.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-common-task-dbconfig-db-2-mdx-90d77bdd3aff7b5de63b.js.map