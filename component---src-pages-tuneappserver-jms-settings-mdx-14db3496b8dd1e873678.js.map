{"version":3,"file":"component---src-pages-tuneappserver-jms-settings-mdx-14db3496b8dd1e873678.js","mappings":"wRAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,IAACR,EAASS,OAAAC,OAAA,GAAKX,EAAiBM,EAAK,CAAED,WAAYA,EAAYO,QAAQ,eAG5EH,EAAAA,EAAAA,IAAA,SAAI,mQAEJA,EAAAA,EAAAA,IAAA,SAAI,8UAE8DA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,0BAAuC,+DACrIJ,EAAAA,EAAAA,IAAA,SAAI,qGAAoGA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,0BAAuC,8NAG3KJ,EAAAA,EAAAA,IAAA,UAAK,wDACLA,EAAAA,EAAAA,IAAA,SAAI,mBAAkBA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,mBAAgC,mDAAkDJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,mCAAgD,yDAEhNJ,EAAAA,EAAAA,IAAA,YACAA,EAAAA,EAAAA,IAAA,cAAQ,cACRA,EAAAA,EAAAA,IAAA,YAAKA,EAAAA,EAAAA,IAAA,QAAMI,WAAW,OAAe,uFAErCJ,EAAAA,EAAAA,IAAA,YACAA,EAAAA,EAAAA,IAAA,cAAQ,aACRA,EAAAA,EAAAA,IAAA,YAAKA,EAAAA,EAAAA,IAAA,QAAMI,WAAW,OAAe,iGAErCJ,EAAAA,EAAAA,IAAA,SAAI,wFAAuFA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,qCAAkD,MACzKJ,EAAAA,EAAAA,IAAA,UAAK,0CACLA,EAAAA,EAAAA,IAAA,SAAI,oSAE0CA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,QAAqB,QAAOJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,sBAAmC,cACrKJ,EAAAA,EAAAA,IAAA,SAAI,qJACJA,EAAAA,EAAAA,IAAA,SAAI,oEACJA,EAAAA,EAAAA,IAAA,WACEA,EAAAA,EAAAA,IAAA,MAAII,WAAW,OAAKJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,MAAM,aACjDJ,EAAAA,EAAAA,IAAA,MAAII,WAAW,OAAKJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,MAAM,mBACjDJ,EAAAA,EAAAA,IAAA,MAAII,WAAW,OAAKJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,MAAM,4BAEnDJ,EAAAA,EAAAA,IAAA,SAAI,+HACJA,EAAAA,EAAAA,IAAA,YAAKA,EAAAA,EAAAA,IAAA,QAAMI,WAAW,OAAe,wMAIrCJ,EAAAA,EAAAA,IAAA,SAAI,2SAGJA,EAAAA,EAAAA,IAAA,UAAK,oCACLA,EAAAA,EAAAA,IAAA,SAAI,sDAAqDA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,gBAA6B,6HAElHJ,EAAAA,EAAAA,IAAA,YAAKA,EAAAA,EAAAA,IAAA,QAAMI,WAAW,OAAe,sWAarCJ,EAAAA,EAAAA,IAAA,SAAI,0MACgEA,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,cAA2B,SAAQJ,EAAAA,EAAAA,IAAA,cAAYI,WAAW,KAAK,oBAAiC,YAChMJ,EAAAA,EAAAA,IAAA,SAAI,6JACJA,EAAAA,EAAAA,IAAA,YAAKA,EAAAA,EAAAA,IAAA,QAAMI,WAAW,OAAe,2OAKrCJ,EAAAA,EAAAA,IAAA,SAAI,2SAKR,CAEAN,EAAWW,gBAAiB,C","sources":["webpack://curam-performance-tuning/./src/pages/tuneappserver/jms-settings.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/curam-performance-tuning/curam-performance-tuning/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`The application server settings for Java Message Service (JMS), which include connection factory and activation specification settings,\ncan affect performance. You must tune both the connection factory settings and the activation specification settings.`}</p>\n    <p>{`The client of a connection factory is the application. The application uses the connection factory to push or pull messages\nto or from the messaging engine through a queue. The client of an activation specification is the Enterprise JavaBeans (EJB) container.\nThe EJB container obtains an activation specification to register a `}<inlineCode parentName=\"p\">{`MessageEndpointFactory`}</inlineCode>{` for the message driven bean (MDB) with a ResourceAdapter.`}</p>\n    <p>{`When a client pushes a message to the messaging engine, the messaging engine uses the registered `}<inlineCode parentName=\"p\">{`MessageEndpointFactory`}</inlineCode>{`\nto forward the message to the application, for example, the MDB. Then, the application asynchronously receives messages,\nrather than requiring the client to poll or block by trying to pull a message from the queue.`}</p>\n    <h2>{`Connection factory: jms/CuramConnectionQueueFactory`}</h2>\n    <p>{`Similar to the `}<inlineCode parentName=\"p\">{`jdbc/curamsibdb`}</inlineCode>{` data source, size the connection pool for the `}<inlineCode parentName=\"p\">{`jms/CuramConnectionQueueFactory`}</inlineCode>{`\nconnection factory by using the following formula:`}</p>\n    <br />\n    <strong>WebSphere</strong>\n    <pre><code parentName=\"pre\" {...{}}>{`max_connections = WebContainer_max_threads + SIBJMSRAThreadPool_max_threads + 1\n`}</code></pre>\n    <br />\n    <strong>WebLogic</strong>\n    <pre><code parentName=\"pre\" {...{}}>{`max_connections = default_max_thread_constraint + MDBWorkManager_Max_thread_constraint +1\n`}</code></pre>\n    <p>{`To prevent the processing cost of pool growth and shrinkage, it is suggested to set `}<inlineCode parentName=\"p\">{`min_connections = max_connections`}</inlineCode>{`.`}</p>\n    <h2>{`WebSphere - activation specifications`}</h2>\n    <p>{`Tune the maximum concurrent end points for the JMS activation specifications for the Cúram queues. The settings define\nhow many EJB MDBs are available to process JMS messages. Asynchronous processing concurrency in the application server\nis limited by the lower of the number of either `}<inlineCode parentName=\"p\">{`MDBs`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`SIBJMSRAThreadPool`}</inlineCode>{` threads.`}</p>\n    <p>{`Set the maximum concurrent end points for the Cúram error queues to 1. This setting is suggested because errors are not expected at high volume.`}</p>\n    <p>{`This sizing applies to the following activation specifications:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`DPError`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`WorkflowError`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`CuramDeadMessageQueue`}</inlineCode></li>\n    </ul>\n    <p>{`Then, for simplicity, use the following formulas to set the maximum concurrent end points for the three main Cúram queues:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`max_end_points_DPEnactment = SIBJMSRAThreadPool_max_threads\nmax_end_points_WorkflowEnactment = SIBJMSRAThreadPool_max_threads\nmax_end_points_WorkflowActivity = SIBJMSRAThreadPool_max_threads\n`}</code></pre>\n    <p>{`The previous formulas effectively simplify tuning for asynchronous processing by creating a single point for tuning,\nwhich is the number of JMS threads. However, if more granular tuning is required, you can decrease the concurrent end points,\nfor either Cúram Deferred Processing or Workflow.`}</p>\n    <h2>{`WebLogic - message driven beans`}</h2>\n    <p>{`In WebLogic, the number of EJB MDBs is set in the `}<inlineCode parentName=\"p\">{`-ejb-jar.xml`}</inlineCode>{` deployment descriptor. The descriptor also associates\nMDBs with the MDBWorkManager, as shown in the following example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<weblogic-enterprise-bean>\n    ...\n    <message-driven-descriptor>\n    <pool>\n        <max-beans-in-free-pool>3</max-beans-in-free-pool>\n        <initial-beans-in-free-pool>3</initial-beans-in-free-pool>\n    </pool>\n    </message-driven-descriptor>\n    ...\n    <dispatch-policy>MDBWorkManager</dispatch-policy>\n</weblogic-enterprise-bean>\n\n`}</code></pre>\n    <p>{`Set both the maximum and initial values of the beans in the free pool for the Cúram error MDBs to 1. This setting is suggested\nbecause errors are not expected at high volume, and it applies to the `}<inlineCode parentName=\"p\">{`DPErrorMDB`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`WorkflowErrorMDB`}</inlineCode>{` beans.`}</p>\n    <p>{`Then, for simplicity, use the following formulas to set both the maximum and initial values of the beans in the free pool for the three main Cúram MDBs:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`beans_in_free_pool_DPEnactmentMDB=MDBWorkManager_max_thread_constraint\nbeans_in_free_pool_WorkflowEnactmentMDB=MDBWorkManager_max_thread_constraint\nbeans_in_free_pool_WorkflowActivityMDB=MDBWorkManager_max_thread_constraint\n\n`}</code></pre>\n    <p>{`The previous formulas effectively simplify tuning for asynchronous processing by creating a single point for tuning,\nwhich is the number of JMS threads. However, if more granular tuning is required, you can decrease the beans in the free pool,\nfor either Cúram Deferred Processing or Workflow.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","Object","assign","mdxType","parentName","isMDXComponent"],"sourceRoot":""}