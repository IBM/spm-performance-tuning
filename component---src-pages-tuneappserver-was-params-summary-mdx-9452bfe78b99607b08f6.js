"use strict";(self.webpackChunkcuram_performance_tuning=self.webpackChunkcuram_performance_tuning||[]).push([[765],{8225:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return p}});var a=n(45),r=(n(6540),n(5680)),i=n(4330);const o=["components"],l={},s=(d="Caption",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.yg)("div",e)});var d;const m={_frontmatter:l},g=i.A;function p(e){let{components:t}=e,n=(0,a.A)(e,o);return(0,r.yg)(g,Object.assign({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"The table in this section summarizes the parameters that you can tune in WebSphere® Application Server (WAS)."),(0,r.yg)(s,{mdxType:"Caption"},(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"Table 1:")," Summary of tunable parameters for WAS")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Tuning parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Description and use"),(0,r.yg)("th",{parentName:"tr",align:null},"Recommended value"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SERVLET CACHING")),(0,r.yg)("td",{parentName:"tr",align:null},"After a servlet is launched and completes generating the output to cache, a cache entry is created that contains the output and the side effects of the servlet. The side effects can include calls to other servlets, JavaServer Pages (JSP) files, or metadata about the entry, including timeout and entry priority information. Configure servlet caching to save the output of servlets and JavaServer Pages (JSP) files to the dynamic cache."),(0,r.yg)("td",{parentName:"tr",align:null},"Disable")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SERVLET REQUEST AND RESPONSE POOLING")),(0,r.yg)("td",{parentName:"tr",align:null},"Specifies to disable the pooling of servlet request and servlet response objects that are pooled by the web container. When you disable pooling of servlet request and servlet response objects, new servlet request and servlet response objects are created for each request, that can negatively affect performance, but that provide protection from any unforeseen pooling issues."),(0,r.yg)("td",{parentName:"tr",align:null},"Disable")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"JAVA HEAP")),(0,r.yg)("td",{parentName:"tr",align:null},"By default the application server JVM initial and maximum heap size is set to 1024 MB. However, you can override the default JVM initial and maximum heap size by setting the ",(0,r.yg)("inlineCode",{parentName:"td"},"curam.server.jvm.heap.size")," property in the AppServer.properties file. We recommend setting minimum heap size = maximum heap size to 4 GB as a starting point. You can then use a heuristic algorithm to further tune the heap size and achieve high garbage collection efficiency."),(0,r.yg)("td",{parentName:"tr",align:null},"Start with ",(0,r.yg)("inlineCode",{parentName:"td"},"curam.server.jvm.heap.size=4096")," Then further tune the application server JVM heap size by using the following heuristic:  ",(0,r.yg)("ol",null,(0,r.yg)("li",null," ",(0,r.yg)("inlineCode",{parentName:"td"},"-Xmx = 8 * avg_used_after_global")," ")," ",(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},"-Xms = 8 * avg_used_after_global"))," ",(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},"-Xmn = 6 * avg_used_after_global</li></ol>")," ")," "))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"NUMBER OF HTTP SESSIONS")),(0,r.yg)("td",{parentName:"tr",align:null},"Tune the number of allowed HTTP sessions to a large enough number to serve your expected number of users. Ensure that the timeout is set so as not to waste sessions and to keep memory usage under control."),(0,r.yg)("td",{parentName:"tr",align:null},"See description.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"CONNECTION TIMEOUT")," and ",(0,r.yg)("inlineCode",{parentName:"td"},"KEEP-ALIVE")),(0,r.yg)("td",{parentName:"tr",align:null},"HTTP persistent connection, or HTTP keepalive, is where a single connection is used to send and receive multiple HTTP requests."),(0,r.yg)("td",{parentName:"tr",align:null},"Depends on system behavior under load. Disable if the issues that are mentioned in ",(0,r.yg)("a",{parentName:"td",href:"/curam-performance-tuning/15a4b869ec12a77e305e9bb10dfae89b/persistent-connections.mdx"},"Configuring persistent connections")," occur.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"NUMBER OF WEB THREADS")),(0,r.yg)("td",{parentName:"tr",align:null},"HTTP requests are processed by a pool of server threads. You can configure the minimum and maximum thread pool size for the web container for optimal performance."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"WebContainer_max_threads = number of cores")," ",(0,r.yg)("inlineCode",{parentName:"td"},"WebContainer_min_threads = WebContainer_max_threads"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"NUMBER OF MDB THREADS")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool")," is set up to process JMS messages. Always set minimum threads = maximum threads to avoid thread reconstruction."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool_max_threads = number of cores")," ",(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool_min_threads = SIBJMSRAThreadPool_max_threads"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"MAX CONCURRENT MDB INVOCATIONS PER ENDPOINT")," (activation specifications)"),(0,r.yg)("td",{parentName:"tr",align:null},"A JMS activation specification is associated with one or more message-driven beans (MDBs) and provides the configuration necessary for the MDBs to receive messages."),(0,r.yg)("td",{parentName:"tr",align:null},"For all queues set the value equal to ",(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool_max_threads"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"QUEUES FETCH")," (activation specifications)"),(0,r.yg)("td",{parentName:"tr",align:null},"Use this setting to control the message retrieval from the queue. We recommend setting the value equal to ",(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool_max_threads")," to aim for zero messages in the queue."),(0,r.yg)("td",{parentName:"tr",align:null},"Set equal to ",(0,r.yg)("inlineCode",{parentName:"td"},"SIBJMSRAThreadPool_max_threads"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"MIN/MAX CONNECTIONS")," (connection factory)"),(0,r.yg)("td",{parentName:"tr",align:null},"This setting is used to size the connection pool for JMS connection factory messages. To prevent the processing cost of pool growth and shrinkage, we suggest setting ",(0,r.yg)("inlineCode",{parentName:"td"},"min_connections = max_connections"),"."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"max_connections = WebContainer_max_threads + SIBJMSRAThreadPool_max_threads + 1min_connections=max_connections"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"NUMBER OF DATABASE CONNECTIONS")," (jdbc data source)"),(0,r.yg)("td",{parentName:"tr",align:null},"An Cúram transaction needs two JDBC connections, transaction and KeyServer. ",(0,r.yg)("inlineCode",{parentName:"td"},"jdbc/curamdb")," data source connection pool needs to be sized to ensure that more connections are available than threads. Use Performance Monitoring Infrastructure (PMI) to identify the average number of connections and to size the pool to three times that number to avoid deadlocks."),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"max_connections = WebContainer_max_threads + SIBJMSRAThreadPool_max_threads + 1"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"STATEMENT CACHE SIZE")," (jdbc data source)"),(0,r.yg)("td",{parentName:"tr",align:null},"This parameter controls the size of the data source prepared statement cache size. We recommend a starting value of 1000. However, monitor the cache size and increase the value if discards occur."),(0,r.yg)("td",{parentName:"tr",align:null},"Starting value 1000")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"CONTAINER MANAGED PERSISTANCE"),"(jdbc data source)"),(0,r.yg)("td",{parentName:"tr",align:null},"An entity bean that uses container-managed persistence (CMP) delegates the management of its state, or persistence, to the application server container. We observed better response times when CMP is disabled."),(0,r.yg)("td",{parentName:"tr",align:null},"Disable in ",(0,r.yg)("inlineCode",{parentName:"td"},"Curamdb")," and ",(0,r.yg)("inlineCode",{parentName:"td"},"curamsibdb"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"JAVA 2 SECURITY")),(0,r.yg)("td",{parentName:"tr",align:null},"Cúram does not use Java 2 Security and this WAS feature has a performance cost when it is turned on."),(0,r.yg)("td",{parentName:"tr",align:null},"Turn off")))))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-tuneappserver-was-params-summary-mdx-9452bfe78b99607b08f6.js.map